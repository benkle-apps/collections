# A simple collection manager

This little gem (well, more like a pebble) is a simple have/have-not collection manager.
It has no security features or user management, and is not supposed to be installed into
a project. But it served me well, and maybe you're collecting something like old video
games as well and found services like Remember The Milk to be way to cluttered.

## Installation

Simply clone this repository and execute `npm` inside:
```bash
git clone https://github.com/benkle-apps/collections.git
cd collections
npm install
```

## Setup

The server runs on it's own, all you have to give it is the directory with your collections,
like this:
```bash
node collections/main.js ~/Collections/
```

You can also specify a custom port (default is 8080):
```bash
node collections/main.js ~/Collections/ 9009
```

## Collections

Your collection directory must contain a simple, two-level directory structure:
```
movies/
    000-disney.json
    001-dreamworks.json
games/
    000-commodore-64.json
    001-commodore-amiga.json
    002-pc.json
```

Names are lowercase and contain dashes as word dividers. Display names are generated by
replacing those with spaces and turning the words into Title Case. The leading numbers
on the JSON files are used for sorting und will be stripped for display.
Remember to keep the files writable by the server!

### JSON format

The json files contain simple arrays of data structs:
```json
[
  {
    "title": "Snow White and the Seven Dwarfs",
    "released": 1937,
    "cover": "https://m.media-amazon.com/images/M/MV5BMTQwMzE2Mzc4M15BMl5BanBnXkFtZTcwMTE4NTc1Nw@@._V1_SY1000_SX668_AL_.jpg",
    "_owned": false
  },
  {
    "title": "Pinocchio",
    "released": 1940,
    "cover": "https://m.media-amazon.com/images/M/MV5BMTU4Mzk3ODIyOF5BMl5BanBnXkFtZTgwODgyNzk2NjE@._V1_SY1000_CR0,0,654,1000_AL_.jpg",
    "_owned": true
  }
]
```
The only required key is `_owned`, which designates wether you finally own the listed entry.

### Templates

By default the server will try to produce a table of equal width columns from the struct keys
with their values directly as content. You can override this with a per collection template:
```
movies\
    template.pug
```

The template can simply extend `/layout.pug` and provide it's own `item`-block:
```jade
extends /layout.pug

block item
    div.col-4.px-1
        img(src=item.cover, style="max-width: 100px")
    div.col-6.px-1= item.title
    div.col-1.px-1= item.released
```
You can use bootstrap classes for formatting, but remember that the add/remove button
while take up one `col-1` at the end of the line.
